
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/12-rpo/synthetic_rpo_images.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_12-rpo_synthetic_rpo_images.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_12-rpo_synthetic_rpo_images.py:


Synthetic RPO
=============

Generating and displaying synthetic images of a nearby space object

.. GENERATED FROM PYTHON SOURCE LINES 7-17

.. code-block:: Python


    import json
    import os

    import matplotlib.pyplot as plt
    import numpy as np
    from PIL import Image

    from mirage import synth as mrsyn








.. GENERATED FROM PYTHON SOURCE LINES 18-19

Generating the dataset with key point selection UI enabled

.. GENERATED FROM PYTHON SOURCE LINES 19-27

.. code-block:: Python

    mrsyn.generate_synthetic_dataset(
        'matlib_goes17.obj',
        data_points=9,
        key_point_count=10,
        manual_key_point_selection=True,
        max_phase_deg=30,
    )




.. image-sg:: /gallery/12-rpo/images/sphx_glr_synthetic_rpo_images_001.png
   :alt: synthetic rpo images
   :srcset: /gallery/12-rpo/images/sphx_glr_synthetic_rpo_images_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Found 11 key points!
    Computed visibility for point 1/9, 0.14ish minutes remaining
    Computed visibility for point 2/9, 0.03ish minutes remaining
    Computed visibility for point 3/9, 0.03ish minutes remaining
    Computed visibility for point 4/9, 0.02ish minutes remaining
    Computed visibility for point 5/9, 0.02ish minutes remaining
    Computed visibility for point 6/9, 0.01ish minutes remaining
    Computed visibility for point 7/9, 0.01ish minutes remaining
    Computed visibility for point 8/9, 0.00ish minutes remaining
    Computed visibility for point 9/9, 0.00ish minutes remaining




.. GENERATED FROM PYTHON SOURCE LINES 28-29

Loading the resulting data

.. GENERATED FROM PYTHON SOURCE LINES 29-34

.. code-block:: Python


    with open(os.path.join('out', 'iminfo.json'), 'r') as f:
        iminfo = json.load(f)
        kp_pix = np.array(iminfo['key_points']['image_pixels'])








.. GENERATED FROM PYTHON SOURCE LINES 35-36

Plotting a grid of rendered images

.. GENERATED FROM PYTHON SOURCE LINES 36-47

.. code-block:: Python

    fig, axs = plt.subplots(3, 3)
    for fnum in range(9):
        plt.subplot(3, 3, fnum + 1)
        with Image.open(os.path.join('out', f'frame{fnum}.png'), 'r') as im:
            im_arr = np.array(im)
            plt.imshow(im_arr[:, :, 0], cmap='gray')
            plt.scatter(kp_pix[fnum, :, 0], kp_pix[fnum, :, 1], c='c', s=1)
            plt.axis('off')
    fig.suptitle('Synthetic images of GOES-17 with Key Points', fontsize=12)
    plt.tight_layout()
    plt.show()



.. image-sg:: /gallery/12-rpo/images/sphx_glr_synthetic_rpo_images_002.png
   :alt: Synthetic images of GOES-17 with Key Points
   :srcset: /gallery/12-rpo/images/sphx_glr_synthetic_rpo_images_002.png, /gallery/12-rpo/images/sphx_glr_synthetic_rpo_images_002_2_00x.png 2.00x
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 4.341 seconds)


.. _sphx_glr_download_gallery_12-rpo_synthetic_rpo_images.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: synthetic_rpo_images.ipynb <synthetic_rpo_images.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: synthetic_rpo_images.py <synthetic_rpo_images.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: synthetic_rpo_images.zip <synthetic_rpo_images.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
