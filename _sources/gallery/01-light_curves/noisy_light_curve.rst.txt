
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/01-light_curves/noisy_light_curve.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_01-light_curves_noisy_light_curve.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_01-light_curves_noisy_light_curve.py:


Noisy Light Curves
==================

Simulates torque-free rigid body motion for a simple object and computes the full light curve, informed by station constraints and a high-fidelity background signal model

.. GENERATED FROM PYTHON SOURCE LINES 7-15

.. code-block:: Python


    import matplotlib.pyplot as plt
    import numpy as np
    import seaborn as sns

    import mirage as mr
    import mirage.vis as mrv








.. GENERATED FROM PYTHON SOURCE LINES 16-17

Setting up analysis times

.. GENERATED FROM PYTHON SOURCE LINES 17-24

.. code-block:: Python

    date_start = mr.utc(2023, 5, 20, 20, 45, 0)
    integration_time_s = 10.0
    (dates, epsecs) = mr.date_arange(
        date_start - mr.days(1), date_start, mr.seconds(10), return_epsecs=True
    )
    ephr = epsecs / 3600  # Epoch hours








.. GENERATED FROM PYTHON SOURCE LINES 25-26

Setting up the scenario objects

.. GENERATED FROM PYTHON SOURCE LINES 26-31

.. code-block:: Python

    obj = mr.SpaceObject('hylas4.obj', identifier='goes 15')
    brdf = mr.Brdf('phong')
    station = mr.Station(preset='pogs')
    # Observing from the Purdue Optical Ground Station in New Mexico





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Model file hylas4.obj not found in current model folder ('/Users/liamrobinson/Documents/maintained-research/mirage/mirage/resources/models'), checking model repository...
    Attempting to download hylas4.obj and its associated material file from the model repository...
    Requesting: https://raw.githubusercontent.com/ljrobins/mirage-models/main//accurate_sats/hylas4.obj
    Model files were downloaded successfully!




.. GENERATED FROM PYTHON SOURCE LINES 32-33

Defining observation constraints on the station

.. GENERATED FROM PYTHON SOURCE LINES 33-42

.. code-block:: Python

    station.constraints = [
        mr.SnrConstraint(3),
        mr.ElevationConstraint(10),
        mr.TargetIlluminatedConstraint(),
        mr.ObserverEclipseConstraint(station),
        mr.VisualMagnitudeConstraint(18),
        mr.MoonExclusionConstraint(10),
    ]








.. GENERATED FROM PYTHON SOURCE LINES 43-44

Defining the object's attitude profile and mass properties

.. GENERATED FROM PYTHON SOURCE LINES 44-50

.. code-block:: Python

    obj_attitude = mr.RbtfAttitude(
        w0=0.000 * np.array([0, 1, 1]),
        q0=mr.hat(np.array([0, 0, 0, 1])),
        itensor=obj.principal_itensor,
    )








.. GENERATED FROM PYTHON SOURCE LINES 51-52

Computing the full noisy light curve

.. GENERATED FROM PYTHON SOURCE LINES 52-62

.. code-block:: Python

    (lc_noisy_sampler, aux_data) = station.observe_light_curve(
        obj,
        obj_attitude,
        brdf,
        dates,
        integration_time_s=integration_time_s,
        use_engine=True,
    )
    lc_noisy = lc_noisy_sampler()








.. GENERATED FROM PYTHON SOURCE LINES 63-64

Extracting data and plotting results

.. GENERATED FROM PYTHON SOURCE LINES 64-77

.. code-block:: Python

    lc_clean = aux_data['lc_clean']

    sns.scatterplot(x=ephr, y=lc_noisy, linewidth=0.05, size=0.2)
    sns.scatterplot(x=ephr, y=lc_clean, linewidth=0.05, size=0.2, color='k')
    plt.xlim((0, np.max(ephr)))
    mrv.texit(
        f'Light Curves for {obj.sat.satnum}',
        'Epoch hours',
        '[e-]',
        ['Measurements', 'True Mean'],
    )
    plt.grid()
    plt.show()



.. image-sg:: /gallery/01-light_curves/images/sphx_glr_noisy_light_curve_001.png
   :alt: Light Curves for 36411
   :srcset: /gallery/01-light_curves/images/sphx_glr_noisy_light_curve_001.png, /gallery/01-light_curves/images/sphx_glr_noisy_light_curve_001_2_00x.png 2.00x
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 8.730 seconds)


.. _sphx_glr_download_gallery_01-light_curves_noisy_light_curve.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: noisy_light_curve.ipynb <noisy_light_curve.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: noisy_light_curve.py <noisy_light_curve.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: noisy_light_curve.zip <noisy_light_curve.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
