
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/01-light_curves/light_curve_ambiguities.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_01-light_curves_light_curve_ambiguities.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_01-light_curves_light_curve_ambiguities.py:


Light Curve Ambiguities
=======================

Demonstrating various ways a light curve can be ambiguous as a function of the object and its attitude profile.

.. GENERATED FROM PYTHON SOURCE LINES 7-14

.. code-block:: Python


    import matplotlib.pyplot as plt
    import numpy as np

    import mirage as mr
    import mirage.vis as mrv








.. GENERATED FROM PYTHON SOURCE LINES 15-16

Albedo-area ambiguity

.. GENERATED FROM PYTHON SOURCE LINES 16-59

.. code-block:: Python


    brdf = mr.Brdf('cook-torrance', cd=0.5, cs=0.5, n=5.0)
    dates, epsecs = mr.date_linspace(
        mr.now(), mr.now() + mr.seconds(5), 1000, return_epsecs=True
    )
    attitude = mr.RbtfAttitude(
        w0=1.0 * mr.hat(np.array([[0.1, 0.0, 1.0]])),
        q0=mr.hat(np.array([0.0, 0.0, 0.0, 1.0])),
        itensor=np.diag([1.0, 2.0, 3.0]),
    )
    q_of_t, _ = attitude.propagate(epsecs)
    svi = np.array([[1.0, 0.0, 0.0]])
    ovi = np.array([1.0, 1.0, 0.0])

    svb = mr.stack_mat_mult_vec(mr.quat_to_dcm(q_of_t), svi)
    ovb = mr.stack_mat_mult_vec(mr.quat_to_dcm(q_of_t), ovi)

    sf = 5.0
    obj1 = mr.SpaceObject('cube.obj')
    obj2 = mr.SpaceObject('cube.obj')
    obj2.v *= sf
    obj2.build_properties()

    lc1 = obj1.convex_light_curve(brdf, svb, ovb)
    plt.plot(
        epsecs, lc1, lw=3, label=f'1m cube, Cook-Torrance $C_d={brdf.cd}$, $C_s={brdf.cs}$'
    )
    brdf.cd /= sf**2
    brdf.cs /= sf**2
    lc2 = obj2.convex_light_curve(brdf, svb, ovb)

    plt.plot(
        epsecs,
        lc2,
        '--',
        lw=3,
        label=f'{sf:.0f}m cube, Cook-Torrance $C_d={brdf.cd}$, $C_s={brdf.cs}$',
    )
    mrv.texit('Albedo-Area Ambiguity', 'Epoch seconds', 'Normalized irradiance')
    plt.legend()
    plt.ylim([np.min(lc1) * 0.8, np.max(lc1) * 1.2])
    plt.show()




.. image-sg:: /gallery/01-light_curves/images/sphx_glr_light_curve_ambiguities_001.png
   :alt: Albedo-Area Ambiguity
   :srcset: /gallery/01-light_curves/images/sphx_glr_light_curve_ambiguities_001.png, /gallery/01-light_curves/images/sphx_glr_light_curve_ambiguities_001_2_00x.png 2.00x
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Model file cube.obj not found in current model folder ('/Users/liamrobinson/Documents/maintained-research/mirage-models/Non-Convex/'), checking model repository...
    Attempting to download cube.obj and its associated material file from the model repository...
    Requesting: https://raw.githubusercontent.com/ljrobins/mirage-models/main//Regular/cube.obj
    Requesting: https://raw.githubusercontent.com/ljrobins/mirage-models/main//Regular/cube.mtl
    Model files were downloaded successfully!




.. GENERATED FROM PYTHON SOURCE LINES 60-62

Observation geometry ambiguity
We know that the light curve is symmetric when the positions of the observer and sun are swapped.

.. GENERATED FROM PYTHON SOURCE LINES 62-71

.. code-block:: Python


    lc1 = obj1.convex_light_curve(brdf, svb, ovb)
    plt.plot(epsecs, lc1, lw=3, label='Nominal')
    lc2 = obj1.convex_light_curve(brdf, ovb, svb)
    plt.plot(epsecs, lc2, '--', lw=3, label='Swapped observer and Sun')
    mrv.texit('Observer Geometry Ambiguity', 'Epoch seconds', 'Normalized irradiance')
    plt.legend()
    plt.show()




.. image-sg:: /gallery/01-light_curves/images/sphx_glr_light_curve_ambiguities_002.png
   :alt: Observer Geometry Ambiguity
   :srcset: /gallery/01-light_curves/images/sphx_glr_light_curve_ambiguities_002.png, /gallery/01-light_curves/images/sphx_glr_light_curve_ambiguities_002_2_00x.png 2.00x
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 72-73

Non-convex observability

.. GENERATED FROM PYTHON SOURCE LINES 73-84

.. code-block:: Python


    # obj1 = mr.SpaceObject("cylinder.obj")
    # obj2 = mr.SpaceObject("collapsed_cyl.obj")

    # lc1 = obj1.convex_light_curve(brdf, svb, ovb)
    # plt.plot(epsecs, lc1, lw=3, label=f"Convex")
    # lc2 = obj2.convex_light_curve(brdf, svb, ovb)
    # plt.plot(epsecs, lc2, '--', lw=3, label=f"Non-convex")
    # mrv.texit('Non-convex Ambiguity', 'Epoch seconds', 'Normalized irradiance')
    # plt.legend()
    # plt.show()








.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 1.655 seconds)


.. _sphx_glr_download_gallery_01-light_curves_light_curve_ambiguities.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: light_curve_ambiguities.ipynb <light_curve_ambiguities.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: light_curve_ambiguities.py <light_curve_ambiguities.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: light_curve_ambiguities.zip <light_curve_ambiguities.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
